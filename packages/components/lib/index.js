var e=require("react"),n=require("react-window-infinite-loader"),t=require("react-window"),i=require("styled-components"),r=require("polished"),l=require("react/jsx-runtime"),o=require("styled-system"),s=require("@motor-js/engine"),a=require("@motor-js/theme"),c=require("prop-types");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u,h,f=d(n),p=d(i),x=d(c);function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function g(e,n){if(null==e)return{};var t,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n.indexOf(t=l[i])>=0||(r[t]=e[t]);return r}function b(e,n){return n||(n=e.slice(0)),e.raw=n,e}var k,w=i.css(u||(u=b(["\n  border: ",";\n  font-size:  ",";\n  font-family: ",";\n  position: relative;\n  width: ",";\n"])),function(e){return e.theme.filter.border},function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.fontFamily},function(e){return e.width+"px"});i.css(h||(h=b(["\n  background-color: ",";\n"])),function(e){return"A"===e.selected?e.theme.colors.gray100:""});var v,y,j,S,z,C,L,H,I,O,q,N,D,E,P,T,R,W,A=p.default.svg(k||(k=b(["\n  stroke-width: ",";\n  stroke: ",";\n  height: ",";\n  width: ",";\n  viewbox: ",";\n  stroke-linejoin: join;\n  stroke-linecap: round; \n  fill: none;\n  display: flex;\n  fill: none;\n  display: flex;\n"])),function(e){return e.strokeWidth},function(e){return e.strokeColor},function(e){return e.height},function(e){return e.width},function(e){return e.viewbox}),K=p.default.div(v||(v=b(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background-color: ",";\n  }\n  cursor: pointer;\n"])),function(e){return r.transparentize(.92,e.theme.colors[e.colorTheme][500])}),B=p.default.div(y||(y=b(["\n  ",";\n  shadow: ",";\n  margin-top: 10px;\n  border-radius:  ",";\n"])),w,function(e){return e.theme.shadows.input},function(e){return e.theme.filter.borderRadius}),F=p.default.div(j||(j=b(["\n  ",";\n  margin-top: 10px;\n"])),w),M=p.default.input.attrs({type:"checkbox"})(S||(S=b(["\n  // Hide checkbox visually but remain accessible to screen readers.\n  // Source: https://polished.js.org/docs/#hidevisually\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]))),G=p.default.div(z||(z=b(["\n  display: inline-block;\n  vertical-align: middle;\n  width: 14px;\n  height: 14px;\n  margin: 0px 5px;\n  background: ",";\n  border-radius: 4px;\n  transition: all 150ms;\n  border: 1px solid ",";\n\n  ",":focus + & {\n    box-shadow: 0 0 0 3px ",";\n  }\n\n  "," {\n    visibility: ","\n  }\n"])),function(e){return"S"===e.selected?e.theme.colors[e.colorTheme][500]:"white"},function(e){return"S"===e.selected?e.theme.colors.brand[500]:e.theme.colors.gray[300]},M,function(e){return e.theme.colors.brand[400]},A,function(e){return"S"===e.selected?"visible":"hidden"}),J=p.default.div(C||(C=b(["\n  display: flex;\n  align-items: center;\n"]))),Q=p.default.span(L||(L=b(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),U=function(){return l.jsx(A,{viewBox:"0 0 24 24",strokeWidth:3,strokeColor:"white",children:l.jsx("polyline",{points:"20 6 9 17 4 12"})})},V=function(e){var n=e.className,t=e.selected,i=g(e,["className","checked","selected"]);return l.jsxs(J,m({className:n},i,{children:[l.jsx(M,m({selected:t},i)),l.jsx(G,m({},i,{selected:t,children:l.jsx(U,{})}))]}))},X=function(e){var n=e.isNextPageLoading,i=void 0!==n&&n,r=e.items,o=e.loadNextPage,s=e.numberOfItems,a=e.pageHeight,c=e.dropHeight,d=e.handleSelectCallback,u=e.size,h=g(e,["isNextPageLoading","items","loadNextPage","numberOfItems","pageHeight","dropHeight","handleSelectCallback","size"]),p=m({},h).theme.filter.size[u].itemHeight,x=r.length<s,b=x?a+1:a,k=function(e){return!x||e<a},w=function(e){var n,t,i,o=e.index,s=e.style;return k(o)&&0!=r.length&&null!=r[o]?(n=r[o].text,t=r[o],i=r[o].state):(n="Loading...",t="",i=""),l.jsx("div",{className:"drop-item",children:r.length>0&&l.jsxs(K,m({className:"drop-item",style:s,onClick:function(){return function(e){return d(e)}(t)},selected:i},h,{children:[l.jsx(V,m({className:"drop-item",selected:i},h)),l.jsx(Q,m({className:"drop-item"},h,{children:n}))]}))})};return l.jsx(f.default,{isItemLoaded:k,itemCount:b,loadMoreItems:i?function(){}:o,threshold:80,children:function(e){return r.length>0?l.jsx(B,m({size:u},h,{children:l.jsx(t.FixedSizeList,{className:"list",itemCount:b,onItemsRendered:e.onItemsRendered,ref:e.ref,height:c,width:"100%",itemSize:p,children:w})})):l.jsx(F,m({size:u},h,{children:"No results found."}))}})},Y=p.default.div(H||(H=b(["\n  ",";\n  ",";\n  font-size: ",";\n"])),o.space,o.color,function(e){return e.theme.filter.size[e.size].fontSize}),Z=p.default.div(I||(I=b(["\n  padding: 2px 6px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n"]))),$=p.default.div(O||(O=b(["\n  display: flex;\n  flexDirection: row;\n  border-radius: ",";\n  border: ",";\n  &:hover {\n    border:  ",";\n  }\n\n  &:focus-within {\n    border: 1px solid ",";\n    outline: none;\n  }\n\n"])),function(e){return e.theme.filter.borderRadius},function(e){return e.theme.filter.border},function(e){return e.theme.filter.borderHovered},function(e){return e.theme.colors[e.colorTheme][500]}),_=p.default.div(q||(q=b(["\n  display: grid;\n  flex: 1 1 0%;\n  flex-wrap: wrap;\n\n"]))),ee=p.default.input(N||(N=b(["\n  border: none;\n  border-radius: ",";\n  font-size: ",";\n  margin: 2px;\n  outline: 0px !important;\n  width: 100%;\n  padding: 4px 0px;\n"])),function(e){return e.theme.filter.borderRadius},function(e){return e.theme.filter.size[e.size].fontSize});p.default.div(D||(D=b([" \n\n"])));var ne,te=p.default.span(E||(E=b(["\n  display: flex;\n  align-items: center;\n  padding: 0px 0px 0px 4px;\n  margin: 2px;\n  font-size: ",";\n  border-radius:  ",";\n  background-color:  ",";\n  color: ",";\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.filter.borderRadius},function(e){return e.theme.colors.gray[200]},function(e){return e.theme.colors.black}),ie=p.default.span(P||(P=b(["\n  display: flex;\n  align-items: center;\n  padding: 0px 0px 0px 8px;\n  margin: 2px;\n  font-size: ",";\n  color: ",";\n  white-space: nowrap;\n"])),function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.colors.black}),re=p.default.button(T||(T=b(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  border: none;\n  background-color: unset;\n  border: none;\n  cursor: pointer;\n  color: ",";\n  border-radius: 0px 5px 5px 0px;\n  padding: 0px 4px 0px 2px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.colors.black},function(e){return r.transparentize(.3,e.theme.colors[e.colorTheme][500])}),le=p.default.span(R||(R=b(["\n  padding: 2px 8px 2px 2px;\n  max-width: 100px;\n  overflow: hidden;\n  font-size: 85%;\n  white-space: nowrap;\n  text-overflow:ellipsis;\n"]))),oe=p.default.div(W||(W=b(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px\n"])));p.default.svg(ne||(ne=b(["\n  fill: none;\n  stroke: black;\n  stroke-width: 2px;\n  display: flex;\n  height: 18px;\n  width: 18px;\n  stroke-linecap:round; \n  stroke-linejoin: join;\n"])));var se,ae=function(e){return l.jsxs(A,m({viewBox:"0 0 24 24"},{stroke:e.stroke,strokeWidth:e.strokeWidth,height:e.height,width:e.width},{children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}))},ce=p.default.svg(se||(se=b(["\n  fill: none;\n  stroke: black;\n  stroke-width: 1px;\n  display: flex;\n  height: 18px;\n  width: 18px;\n  stroke-linecap:round; \n  stroke-linejoin: join;\n"]))),de=function(){return l.jsx(ce,{viewBox:"0 0 24 24",children:l.jsx("polyline",{points:"6 9 12 15 18 9"})})},ue=function(n){var t,i=n.selectionsLabels,r=n.selectionLabelLimit,o=n.numberOfSelections,s=n.numberOfItems,a=n.handleKeyDownCallback,c=n.handleSearchCallback,d=n.handleInputSelectCallback,u=n.handleIconSelectCallback,h=n.handleDeselectCallback,f=n.deselectAllCallback,p=n.placeholderState,x=n.singleSelection,b=n.size,k=g(n,["selectionsLabels","selectionLabelLimit","numberOfSelections","numberOfItems","handleKeyDownCallback","handleSearchCallback","handleInputSelectCallback","handleIconSelectCallback","handleDeselectCallback","deselectAllCallback","placeholderState","singleSelection","size"]),w=[t=e.useRef(null),function(){t.current&&t.current.focus()}],v=w[0],y=w[1];return l.jsxs($,m({onClick:function(){return y()}},k,{children:[l.jsxs(Z,m({},k,{children:[x&&i&&i.length>0?l.jsx(ie,m({size:b},k,{children:i[0].text})):!x&&i&&r<o?l.jsxs(te,m({size:b},k,{children:[l.jsx(le,m({},k,{children:o+" of "+s})),l.jsx(re,m({},k,{onClick:f,children:l.jsx(ae,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}))]})):i&&i.map(function(n,t){return e.createElement(te,m({},k,{size:b,key:n.key}),l.jsx(le,m({},k,{children:n.text})),l.jsx(re,m({},k,{onClick:function(){return h(n)},children:l.jsx(ae,{stroke:"black",strokeWidth:1,height:"14px",width:"14px",padding:"10px"})})))}),l.jsx(_,m({},k,{children:l.jsx(ee,m({ref:v,size:b,onSelect:d,onChange:function(e){return function(e){c(e)}(e)},onKeyDown:a,placeholder:p},k))}))]})),l.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[l.jsx(oe,{onClick:f,children:o>0&&l.jsx(ae,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}),l.jsx(oe,m({},k,{onClick:u,children:l.jsx(de,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}))]})]}))};function he(n){var t=n.listData,i=n.motorListProps,r=n.singleSelection,o=n.dropHeight,s=void 0===o?"200px":o,a=n.pageHeight,c=n.selectionLabelLimit,d=n.placeholder,u=n.onSelectionChange,h=n.size,f=g(n,["engine","engineError","listData","motorListProps","singleSelection","dropHeight","pageHeight","selectionLabelLimit","placeholder","onSelectionChange","defaultSelections","size"]),p=e.useRef(),x=e.useState(!1),b=x[0],k=x[1],w=e.useState(null),v=w[0],y=w[1],j=e.useState(null),S=j[0],z=j[1],C=e.useState(a),L=C[0],H=C[1],I=e.useState(d),O=I[0],q=I[1];e.useEffect(function(){t&&H(t.length)},[t]);var N,D,E,P=i.layout,T=i.select,R=i.selections,W=i.searchList,A=i.confirmListSearch,K=i.clearSelections,B=i.changePage,F=P&&P.qListObject.qSize.qcy,M=parseInt(s,10);e.useEffect(function(){R&&y(R.slice(0,c)),R&&z(R.length)},[R]),e.useEffect(function(){q(S&&0!==S?"":d)},[S]),N=p,D=function(){b&&(k(!1),B({qTop:0,qHeight:a}))},E=function(e){N.current&&!N.current.contains(e.target)&&D()},e.useEffect(function(){return document.addEventListener("click",E),function(){document.removeEventListener("click",E)}});var G=m({selectionsLabels:v,numberOfSelections:S,selectionLabelLimit:c,numberOfItems:F,handleKeyDownCallback:function(e){"Enter"===e.key&&A()},handleSearchCallback:function(e){return W(e.target.value)},handleInputSelectCallback:function(){return k(!0)},handleIconSelectCallback:function(){return k(!b)},handleDeselectCallback:function(e){return T([e.key],!0)},deselectAllCallback:function(){K()},placeholderState:O,singleSelection:r,selections:R,size:h},f),J=m({items:t,loadNextPage:function(){return B({qHeight:a+L})},pageHeight:L||a,numberOfItems:F,dropHeight:M,handleSelectCallback:function(e){q(""),T([e.key],!r),u()},size:h},f);return l.jsxs(Y,m({ref:p,size:h},f,{children:[l.jsx(ue,m({},G)),b&&l.jsx(X,m({},J))]}))}function fe(n){var t=m({},n),i=e.useContext(a.ThemeContext)||a.defaultTheme,r=e.useContext(s.EngineContext);return l.jsx(he,m({engine:r.engine,theme:i,engineError:r.engineError},t))}fe.propTypes={listData:x.default.array,colorTheme:x.default.oneOf(["brand","gray","red","orange","yellow","green","teal","pink","blue","cyan","purple"]),singleSelection:x.default.bool,pageHeight:x.default.number,selectionLabelLimit:x.default.number,size:x.default.oneOf(["small","medium","large"]),placeholder:x.default.string,onSelectionChange:x.default.func},fe.defaultProps={colorTheme:"brand",singleSelection:!1,pageHeight:50,selectionLabelLimit:5,size:"medium",placeholder:"Select..",onSelectionChange:function(){}},exports.Filter=fe;
//# sourceMappingURL=index.js.map
