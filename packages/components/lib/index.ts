!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("react-window-infinite-loader"),require("react-window"),require("styled-components"),require("polished"),require("react/jsx-runtime"),require("styled-system"),require("@motor-js/engine"),require("@motor-js/theme"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","react-window-infinite-loader","react-window","styled-components","polished","react/jsx-runtime","styled-system","@motor-js/engine","@motor-js/theme","prop-types"],n):n((e||self).components={},e.react,e.reactWindowInfiniteLoader,e.reactWindow,e.styled,e.polished,e.jsx,e.styledSystem,e.engine,e.theme,e.propTypes)}(this,function(e,n,t,i,r,o,l,s,a,c,d){function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h,f,p=u(t),x=u(r),m=u(d);function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function b(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n.indexOf(t=o[i])>=0||(r[t]=e[t]);return r}function k(e,n){return n||(n=e.slice(0)),e.raw=n,e}var w,y=r.css(h||(h=k(["\n  border: ",";\n  font-size:  ",";\n  font-family: ",";\n  position: relative;\n  width: ",";\n"])),function(e){return e.theme.filter.border},function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.fontFamily},function(e){return e.width+"px"});r.css(f||(f=k(["\n  background-color: ",";\n"])),function(e){return"A"===e.selected?e.theme.colors.gray100:""});var j,v,S,z,C,L,I,H,O,q,N,T,D,E,P,W,R,A,K=x.default.svg(w||(w=k(["\n  stroke-width: ",";\n  stroke: ",";\n  height: ",";\n  width: ",";\n  viewbox: ",";\n  stroke-linejoin: join;\n  stroke-linecap: round; \n  fill: none;\n  display: flex;\n  fill: none;\n  display: flex;\n"])),function(e){return e.strokeWidth},function(e){return e.strokeColor},function(e){return e.height},function(e){return e.width},function(e){return e.viewbox}),B=x.default.div(j||(j=k(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background-color: ",";\n  }\n  cursor: pointer;\n"])),function(e){return o.transparentize(.92,e.theme.colors[e.colorTheme][500])}),F=x.default.div(v||(v=k(["\n  ",";\n  shadow: ",";\n  margin-top: 10px;\n  border-radius:  ",";\n"])),y,function(e){return e.theme.shadows.input},function(e){return e.theme.filter.borderRadius}),M=x.default.div(S||(S=k(["\n  ",";\n  margin-top: 10px;\n"])),y),G=x.default.input.attrs({type:"checkbox"})(z||(z=k(["\n  // Hide checkbox visually but remain accessible to screen readers.\n  // Source: https://polished.js.org/docs/#hidevisually\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]))),J=x.default.div(C||(C=k(["\n  display: inline-block;\n  vertical-align: middle;\n  width: 14px;\n  height: 14px;\n  margin: 0px 5px;\n  background: ",";\n  border-radius: 4px;\n  transition: all 150ms;\n  border: 1px solid ",";\n\n  ",":focus + & {\n    box-shadow: 0 0 0 3px ",";\n  }\n\n  "," {\n    visibility: ","\n  }\n"])),function(e){return"S"===e.selected?e.theme.colors[e.colorTheme][500]:"white"},function(e){return"S"===e.selected?e.theme.colors.brand[500]:e.theme.colors.gray[300]},G,function(e){return e.theme.colors.brand[400]},K,function(e){return"S"===e.selected?"visible":"hidden"}),Q=x.default.div(L||(L=k(["\n  display: flex;\n  align-items: center;\n"]))),U=x.default.span(I||(I=k(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),V=function(){return l.jsx(K,{viewBox:"0 0 24 24",strokeWidth:3,strokeColor:"white",children:l.jsx("polyline",{points:"20 6 9 17 4 12"})})},X=function(e){var n=e.className,t=e.selected,i=b(e,["className","checked","selected"]);return l.jsxs(Q,g({className:n},i,{children:[l.jsx(G,g({selected:t},i)),l.jsx(J,g({},i,{selected:t,children:l.jsx(V,{})}))]}))},Y=function(e){var n=e.isNextPageLoading,t=void 0!==n&&n,r=e.items,o=e.loadNextPage,s=e.numberOfItems,a=e.pageHeight,c=e.dropHeight,d=e.handleSelectCallback,u=e.size,h=b(e,["isNextPageLoading","items","loadNextPage","numberOfItems","pageHeight","dropHeight","handleSelectCallback","size"]),f=g({},h).theme.filter.size[u].itemHeight,x=r.length<s,m=x?a+1:a,k=function(e){return!x||e<a},w=function(e){var n,t,i,o=e.index,s=e.style;return k(o)&&0!=r.length&&null!=r[o]?(n=r[o].text,t=r[o],i=r[o].state):(n="Loading...",t="",i=""),l.jsx("div",{className:"drop-item",children:r.length>0&&l.jsxs(B,g({className:"drop-item",style:s,onClick:function(){return function(e){return d(e)}(t)},selected:i},h,{children:[l.jsx(X,g({className:"drop-item",selected:i},h)),l.jsx(U,g({className:"drop-item"},h,{children:n}))]}))})};return l.jsx(p.default,{isItemLoaded:k,itemCount:m,loadMoreItems:t?function(){}:o,threshold:80,children:function(e){return r.length>0?l.jsx(F,g({size:u},h,{children:l.jsx(i.FixedSizeList,{className:"list",itemCount:m,onItemsRendered:e.onItemsRendered,ref:e.ref,height:c,width:"100%",itemSize:f,children:w})})):l.jsx(M,g({size:u},h,{children:"No results found."}))}})},Z=x.default.div(H||(H=k(["\n  ",";\n  ",";\n  font-size: ",";\n"])),s.space,s.color,function(e){return e.theme.filter.size[e.size].fontSize}),$=x.default.div(O||(O=k(["\n  padding: 2px 6px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n"]))),_=x.default.div(q||(q=k(["\n  display: flex;\n  flexDirection: row;\n  border-radius: ",";\n  border: ",";\n  &:hover {\n    border:  ",";\n  }\n\n  &:focus-within {\n    border: 1px solid ",";\n    outline: none;\n  }\n\n"])),function(e){return e.theme.filter.borderRadius},function(e){return e.theme.filter.border},function(e){return e.theme.filter.borderHovered},function(e){return e.theme.colors[e.colorTheme][500]}),ee=x.default.div(N||(N=k(["\n  display: grid;\n  flex: 1 1 0%;\n  flex-wrap: wrap;\n\n"]))),ne=x.default.input(T||(T=k(["\n  border: none;\n  border-radius: ",";\n  font-size: ",";\n  margin: 2px;\n  outline: 0px !important;\n  width: 100%;\n  padding: 4px 0px;\n"])),function(e){return e.theme.filter.borderRadius},function(e){return e.theme.filter.size[e.size].fontSize});x.default.div(D||(D=k([" \n\n"])));var te,ie=x.default.span(E||(E=k(["\n  display: flex;\n  align-items: center;\n  padding: 0px 0px 0px 4px;\n  margin: 2px;\n  font-size: ",";\n  border-radius:  ",";\n  background-color:  ",";\n  color: ",";\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.filter.borderRadius},function(e){return e.theme.colors.gray[200]},function(e){return e.theme.colors.black}),re=x.default.span(P||(P=k(["\n  display: flex;\n  align-items: center;\n  padding: 0px 0px 0px 8px;\n  margin: 2px;\n  font-size: ",";\n  color: ",";\n  white-space: nowrap;\n"])),function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.colors.black}),oe=x.default.button(W||(W=k(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  border: none;\n  background-color: unset;\n  border: none;\n  cursor: pointer;\n  color: ",";\n  border-radius: 0px 5px 5px 0px;\n  padding: 0px 4px 0px 2px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.colors.black},function(e){return o.transparentize(.3,e.theme.colors[e.colorTheme][500])}),le=x.default.span(R||(R=k(["\n  padding: 2px 8px 2px 2px;\n  max-width: 100px;\n  overflow: hidden;\n  font-size: 85%;\n  white-space: nowrap;\n  text-overflow:ellipsis;\n"]))),se=x.default.div(A||(A=k(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px\n"])));x.default.svg(te||(te=k(["\n  fill: none;\n  stroke: black;\n  stroke-width: 2px;\n  display: flex;\n  height: 18px;\n  width: 18px;\n  stroke-linecap:round; \n  stroke-linejoin: join;\n"])));var ae,ce=function(e){return l.jsxs(K,g({viewBox:"0 0 24 24"},{stroke:e.stroke,strokeWidth:e.strokeWidth,height:e.height,width:e.width},{children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}))},de=x.default.svg(ae||(ae=k(["\n  fill: none;\n  stroke: black;\n  stroke-width: 1px;\n  display: flex;\n  height: 18px;\n  width: 18px;\n  stroke-linecap:round; \n  stroke-linejoin: join;\n"]))),ue=function(){return l.jsx(de,{viewBox:"0 0 24 24",children:l.jsx("polyline",{points:"6 9 12 15 18 9"})})},he=function(e){var t,i=e.selectionsLabels,r=e.selectionLabelLimit,o=e.numberOfSelections,s=e.numberOfItems,a=e.handleKeyDownCallback,c=e.handleSearchCallback,d=e.handleInputSelectCallback,u=e.handleIconSelectCallback,h=e.handleDeselectCallback,f=e.deselectAllCallback,p=e.placeholderState,x=e.singleSelection,m=e.size,k=b(e,["selectionsLabels","selectionLabelLimit","numberOfSelections","numberOfItems","handleKeyDownCallback","handleSearchCallback","handleInputSelectCallback","handleIconSelectCallback","handleDeselectCallback","deselectAllCallback","placeholderState","singleSelection","size"]),w=[t=n.useRef(null),function(){t.current&&t.current.focus()}],y=w[0],j=w[1];return l.jsxs(_,g({onClick:function(){return j()}},k,{children:[l.jsxs($,g({},k,{children:[x&&i&&i.length>0?l.jsx(re,g({size:m},k,{children:i[0].text})):!x&&i&&r<o?l.jsxs(ie,g({size:m},k,{children:[l.jsx(le,g({},k,{children:o+" of "+s})),l.jsx(oe,g({},k,{onClick:f,children:l.jsx(ce,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}))]})):i&&i.map(function(e,t){return n.createElement(ie,g({},k,{size:m,key:e.key}),l.jsx(le,g({},k,{children:e.text})),l.jsx(oe,g({},k,{onClick:function(){return h(e)},children:l.jsx(ce,{stroke:"black",strokeWidth:1,height:"14px",width:"14px",padding:"10px"})})))}),l.jsx(ee,g({},k,{children:l.jsx(ne,g({ref:y,size:m,onSelect:d,onChange:function(e){return function(e){c(e)}(e)},onKeyDown:a,placeholder:p},k))}))]})),l.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[l.jsx(se,{onClick:f,children:o>0&&l.jsx(ce,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}),l.jsx(se,g({},k,{onClick:u,children:l.jsx(ue,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}))]})]}))};function fe(e){var t=e.listData,i=e.motorListProps,r=e.singleSelection,o=e.dropHeight,s=void 0===o?"200px":o,a=e.pageHeight,c=e.selectionLabelLimit,d=e.placeholder,u=e.onSelectionChange,h=e.size,f=b(e,["engine","engineError","listData","motorListProps","singleSelection","dropHeight","pageHeight","selectionLabelLimit","placeholder","onSelectionChange","defaultSelections","size"]),p=n.useRef(),x=n.useState(!1),m=x[0],k=x[1],w=n.useState(null),y=w[0],j=w[1],v=n.useState(null),S=v[0],z=v[1],C=n.useState(a),L=C[0],I=C[1],H=n.useState(d),O=H[0],q=H[1];n.useEffect(function(){t&&I(t.length)},[t]);var N,T,D,E=i.layout,P=i.select,W=i.selections,R=i.searchList,A=i.confirmListSearch,K=i.clearSelections,B=i.changePage,F=E&&E.qListObject.qSize.qcy,M=parseInt(s,10);n.useEffect(function(){W&&j(W.slice(0,c)),W&&z(W.length)},[W]),n.useEffect(function(){q(S&&0!==S?"":d)},[S]),N=p,T=function(){m&&(k(!1),B({qTop:0,qHeight:a}))},D=function(e){N.current&&!N.current.contains(e.target)&&T()},n.useEffect(function(){return document.addEventListener("click",D),function(){document.removeEventListener("click",D)}});var G=g({selectionsLabels:y,numberOfSelections:S,selectionLabelLimit:c,numberOfItems:F,handleKeyDownCallback:function(e){"Enter"===e.key&&A()},handleSearchCallback:function(e){return R(e.target.value)},handleInputSelectCallback:function(){return k(!0)},handleIconSelectCallback:function(){return k(!m)},handleDeselectCallback:function(e){return P([e.key],!0)},deselectAllCallback:function(){K()},placeholderState:O,singleSelection:r,selections:W,size:h},f),J=g({items:t,loadNextPage:function(){return B({qHeight:a+L})},pageHeight:L||a,numberOfItems:F,dropHeight:M,handleSelectCallback:function(e){q(""),P([e.key],!r),u()},size:h},f);return l.jsxs(Z,g({ref:p,size:h},f,{children:[l.jsx(he,g({},G)),m&&l.jsx(Y,g({},J))]}))}function pe(e){var t=g({},e),i=n.useContext(c.ThemeContext)||c.defaultTheme,r=n.useContext(a.EngineContext);return l.jsx(fe,g({engine:r.engine,theme:i,engineError:r.engineError},t))}pe.propTypes={listData:m.default.array,colorTheme:m.default.oneOf(["brand","gray","red","orange","yellow","green","teal","pink","blue","cyan","purple"]),singleSelection:m.default.bool,pageHeight:m.default.number,selectionLabelLimit:m.default.number,size:m.default.oneOf(["small","medium","large"]),placeholder:m.default.string,onSelectionChange:m.default.func},pe.defaultProps={colorTheme:"brand",singleSelection:!1,pageHeight:50,selectionLabelLimit:5,size:"medium",placeholder:"Select..",onSelectionChange:function(){}},e.Filter=pe});
//# sourceMappingURL=index.ts.map
