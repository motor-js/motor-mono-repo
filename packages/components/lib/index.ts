!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("react-window-infinite-loader"),require("react-window"),require("@motor-js/theme"),require("styled-components"),require("polished"),require("react/jsx-runtime"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","react-window-infinite-loader","react-window","@motor-js/theme","styled-components","polished","react/jsx-runtime","prop-types"],n):n((e||self).components={},e.react,e.reactWindowInfiniteLoader,e.reactWindow,e.theme,e.styled,e.polished,e.jsx,e.propTypes)}(this,function(e,n,t,i,r,l,o,s,a){function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d,u,f=c(t),h=c(l),p=c(a);function x(){return(x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function m(e,n){if(null==e)return{};var t,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n.indexOf(t=l[i])>=0||(r[t]=e[t]);return r}function g(e,n){return n||(n=e.slice(0)),e.raw=n,e}var b,k=l.css(d||(d=g(["\n  border: ",";\n  font-size:  ",";\n  font-family: ",";\n  position: relative;\n  width: ",";\n"])),function(e){return e.theme.filter.border},function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.fontFamily},function(e){return e.width+"px"});l.css(u||(u=g(["\n  background-color: ",";\n"])),function(e){return"A"===e.selected?e.theme.colors.gray100:""});var w,y,v,j,S,z,C,L,I,O,H,T,q,N,R,D,P,W,E,A=h.default.svg(b||(b=g(["\n  stroke-width: ",";\n  stroke: ",";\n  height: ",";\n  width: ",";\n  viewbox: ",";\n  stroke-linejoin: join;\n  stroke-linecap: round; \n  fill: none;\n  display: flex;\n  fill: none;\n  display: flex;\n"])),function(e){return e.strokeWidth},function(e){return e.strokeColor},function(e){return e.height},function(e){return e.width},function(e){return e.viewbox}),K=h.default.div(w||(w=g(["\n  width: 100%;\n  position: absolute;\n  z-index:1000;\n  background-color: white;\n"]))),B=h.default.div.attrs(function(e){var n;switch(e.selected){case"S":case"O":n="";break;case"A":n=e.theme.colors.gray[100];break;case"X":n=e.theme.colors.gray[400];break;default:n=""}return{style:{backgroundColor:n}}})(y||(y=g(["\nwidth: 100%;\ndisplay: flex;\nalign-items: center;\n&:hover {\n  background-color: ",";\n}\ncursor: pointer;\n"])),function(e){return o.transparentize(.92,e.theme.colors[e.colorTheme][500])}),F=h.default.div(v||(v=g(["\n  ",";\n  shadow: ",";\n  margin-top: 10px;\n  border-radius:  ",";\n"])),k,function(e){return e.theme.shadows.input},function(e){return e.theme.filter.borderRadius}),V=h.default.div(j||(j=g(["\n  ",";\n  margin-top: 10px;\n"])),k),M=h.default.input.attrs({type:"checkbox"})(S||(S=g(["\n  // Hide checkbox visually but remain accessible to screen readers.\n  // Source: https://polished.js.org/docs/#hidevisually\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]))),X=h.default.div(z||(z=g(["\n  display: inline-block;\n  vertical-align: middle;\n  width: 14px;\n  height: 14px;\n  margin: 0px 5px;\n  background: ",";\n  border-radius: 4px;\n  transition: all 150ms;\n  border: 1px solid ",";\n\n  ",":focus + & {\n    box-shadow: 0 0 0 3px ",";\n  }\n\n  "," {\n    visibility: ","\n  }\n"])),function(e){return"S"===e.selected?e.theme.colors[e.colorTheme][500]:"white"},function(e){return"S"===e.selected?e.theme.colors[e.colorTheme][500]:e.theme.colors.gray[300]},M,function(e){return e.theme.colors[e.colorTheme][400]},A,function(e){return"S"===e.selected?"visible":"hidden"}),G=h.default.div(C||(C=g(["\n  display: flex;\n  align-items: center;\n"]))),J=h.default.span(L||(L=g(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),Q=function(){return s.jsx(A,{viewBox:"0 0 24 24",strokeWidth:3,strokeColor:"white",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})})},U=function(e){var n=e.className,t=e.selected,i=m(e,["className","checked","selected"]);return s.jsxs(G,x({className:n},i,{children:[s.jsx(M,x({selected:t},i)),s.jsx(X,x({},i,{selected:t,children:s.jsx(Q,{})}))]}))},Y=function(e,t){var l=e.isNextPageLoading,o=void 0!==l&&l,a=e.items,c=e.loadNextPage,d=e.numberOfItems,u=e.pageHeight,h=e.dropHeight,p=e.handleSelectCallback,g=e.size,b=m(e,["isNextPageLoading","items","loadNextPage","numberOfItems","pageHeight","dropHeight","handleSelectCallback","size"]),k=(n.useContext(r.ThemeContext)||r.defaultTheme).filter.size[g].itemHeight,w=a.length<d,y=w?u+1:u,v=function(e){return!w||e<u},j=function(e){var n,t,i,r=e.index,l=e.style;return v(r)&&0!=a.length&&null!=a[r]?(n=a[r].text,t=a[r],i=a[r].state):(n="Loading...",t="",i=""),s.jsx("div",{className:"drop-item",children:a.length>0&&s.jsxs(B,x({className:"drop-item",style:l,onClick:function(){return function(e){return p(e)}(t)},selected:i},b,{children:[s.jsx(U,x({className:"drop-item",selected:i},b)),s.jsx(J,x({className:"drop-item"},b,{children:n}))]}))})};return s.jsx(K,{ref:t,children:s.jsx(f.default,{isItemLoaded:v,itemCount:y,loadMoreItems:o?function(){}:c,threshold:80,children:function(e){return a.length>0?s.jsx(F,x({size:g},b,{children:s.jsx(i.FixedSizeList,{className:"list",itemCount:y,onItemsRendered:e.onItemsRendered,ref:e.ref,height:h,width:"100%",itemSize:k,children:j})})):s.jsx(V,x({size:g},b,{children:"No results found."}))}})})},Z=n.forwardRef(Y),$=h.default.div(I||(I=g(["\n  ",";\n  ",";\n  position: relative;\n"])),r.space,r.color),_=h.default.div(O||(O=g(["\n  padding: 2px 6px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n"]))),ee=h.default.div(H||(H=g(["\n  display: flex;\n  flexDirection: row;\n  border-radius: ",";\n  border: ",";\n  &:hover {\n    border:  ",";\n  }\n\n  &:focus-within {\n    border: 1px solid ",";\n    outline: none;\n  }\n"])),function(e){return e.theme.filter.borderRadius},function(e){return e.theme.filter.border},function(e){return e.theme.filter.borderHovered},function(e){return e.theme.colors[e.colorTheme][500]}),ne=h.default.div(T||(T=g(["\n  display: grid;\n  flex: 1 1 0%;\n  flex-wrap: wrap;\n"]))),te=h.default.input(q||(q=g(["\n  border: none;\n  border-radius: ",";\n  font-size: ",";\n  margin: 2px;\n  outline: 0px !important;\n  width: 100%;\n  padding: 4px 0px;\n"])),function(e){return e.theme.filter.borderRadius},function(e){return e.theme.filter.size[e.size].fontSize});h.default.div(N||(N=g([" \n\n"])));var ie,re=h.default.span(R||(R=g(["\n  display: flex;\n  align-items: center;\n  padding: 0px 0px 0px 4px;\n  margin: 2px;\n  font-size: ",";\n  border-radius:  ",";\n  background-color:  ",";\n  color: ",";\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.filter.borderRadius},function(e){return e.theme.colors.gray[200]},function(e){return e.theme.colors.black}),le=h.default.span(D||(D=g(["\n  display: flex;\n  align-items: center;\n  padding: 0px 0px 0px 8px;\n  margin: 2px;\n  font-size: ",";\n  color: ",";\n  white-space: nowrap;\n"])),function(e){return e.theme.filter.size[e.size].fontSize},function(e){return e.theme.colors.black}),oe=h.default.button(P||(P=g(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  border: none;\n  background-color: unset;\n  border: none;\n  cursor: pointer;\n  color: ",";\n  border-radius: 0px 5px 5px 0px;\n  padding: 0px 4px 0px 2px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.colors.black},function(e){return o.transparentize(.3,e.theme.colors[e.colorTheme][500])}),se=h.default.span(W||(W=g(["\n  padding: 2px 8px 2px 2px;\n  max-width: 100px;\n  overflow: hidden;\n  font-size: 85%;\n  white-space: nowrap;\n  text-overflow:ellipsis;\n"]))),ae=h.default.div(E||(E=g(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px\n"])));h.default.svg(ie||(ie=g(["\n  fill: none;\n  stroke: black;\n  stroke-width: 2px;\n  display: flex;\n  height: 18px;\n  width: 18px;\n  stroke-linecap:round; \n  stroke-linejoin: join;\n"])));var ce,de=function(e){return s.jsxs(A,x({viewBox:"0 0 24 24"},{stroke:e.stroke,strokeWidth:e.strokeWidth,height:e.height,width:e.width},{children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}))},ue=h.default.svg(ce||(ce=g(["\n  fill: none;\n  stroke: black;\n  stroke-width: 1px;\n  display: flex;\n  height: 18px;\n  width: 18px;\n  stroke-linecap:round; \n  stroke-linejoin: join;\n"]))),fe=function(){return s.jsx(ue,{viewBox:"0 0 24 24",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})},he=function(e){var t,i=e.selectionsLabels,r=e.selectionLabelLimit,l=e.numberOfSelections,o=e.numberOfItems,a=e.handleKeyDownCallback,c=e.handleSearchCallback,d=e.handleInputSelectCallback,u=e.handleIconSelectCallback,f=e.handleDeselectCallback,h=e.deselectAllCallback,p=e.placeholderState,g=e.singleSelection,b=e.size,k=e.searchValue,w=m(e,["selectionsLabels","selectionLabelLimit","numberOfSelections","numberOfItems","handleKeyDownCallback","handleSearchCallback","handleInputSelectCallback","handleIconSelectCallback","handleDeselectCallback","deselectAllCallback","placeholderState","singleSelection","size","searchValue"]),y=[t=n.useRef(null),function(){t.current&&t.current.focus()}],v=y[0],j=y[1];return s.jsxs(ee,x({onClick:function(){return j()}},w,{children:[s.jsxs(_,x({},w,{onClick:function(){return d()},children:[g&&i&&i.length>0?s.jsx(le,x({size:b},w,{children:i[0].text})):!g&&i&&r<l?s.jsxs(re,x({size:b},w,{children:[s.jsx(se,x({},w,{children:l+" of "+o})),s.jsx(oe,x({},w,{onClick:h,children:s.jsx(de,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}))]})):i&&i.map(function(e,t){return n.createElement(re,x({},w,{size:b,key:e.key}),s.jsx(se,x({},w,{children:e.text})),s.jsx(oe,x({},w,{onClick:function(){return f(e)},children:s.jsx(de,{stroke:"black",strokeWidth:1,height:"14px",width:"14px",padding:"10px"})})))}),s.jsx(ne,x({},w,{children:s.jsx(te,x({ref:v,size:b,onChange:function(e){return function(e){c(e)}(e)},onKeyDown:a,placeholder:p,value:k},w))}))]})),s.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[s.jsx(ae,{onClick:h,children:l>0&&s.jsx(de,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}),s.jsx(ae,x({},w,{onClick:u,children:s.jsx(fe,{stroke:"black",strokeWidth:1,height:"14px",width:"14px"})}))]})]}))};function pe(e){var t=e.listData,i=e.motorListProps,r=e.singleSelection,l=e.dropHeight,o=void 0===l?"200px":l,a=e.pageHeight,c=e.selectionLabelLimit,d=e.placeholder,u=e.onSelectionChange,f=e.size,h=m(e,["listData","motorListProps","singleSelection","dropHeight","pageHeight","selectionLabelLimit","placeholder","onSelectionChange","defaultSelections","size"]),p=n.useRef(),g=n.useRef(),b=n.useState(!1),k=b[0],w=b[1],y=n.useState(null),v=y[0],j=y[1],S=n.useState(null),z=S[0],C=S[1],L=n.useState(a),I=L[0],O=L[1],H=n.useState(d),T=H[0],q=H[1],N=n.useState(""),R=N[0],D=N[1];n.useEffect(function(){t&&O(t.length)},[t]);var P=i.layout,W=i.select,E=i.endSelections,A=i.beginSelections,K=i.selections,B=i.searchList,F=i.confirmListSearch,V=i.clearSelections,M=i.changePage,X=P&&P.qListObject.qSize.qcy,G=parseInt(o,10);n.useEffect(function(){K&&j(K.slice(0,c)),K&&C(K.length)},[K]),n.useEffect(function(){q(z&&0!==z?"":d)},[z]),function(e,t){var i=e.filterRef,r=e.dropRef,l=function(e){i.current&&!i.current.contains(e.target)&&r.current&&!r.current.contains(e.target)&&k&&(w(!k),D(""),M({qTop:0,qHeight:a}),E(!0))};n.useEffect(function(){return document.addEventListener("click",l,{capture:!0}),function(){document.removeEventListener("click",l,{capture:!0})}})}({filterRef:p,dropRef:g});var J=x({selectionsLabels:v,numberOfSelections:z,selectionLabelLimit:c,numberOfItems:X,handleKeyDownCallback:function(e){"Enter"===e.key&&(F(),D(""))},handleSearchCallback:function(e){D(e.target.value),B(e.target.value)},handleInputSelectCallback:function(){k||(A(),w(!0))},handleIconSelectCallback:function(){k?E(!0):A(),w(!k)},handleDeselectCallback:function(e){W([e.key],!0),D("")},deselectAllCallback:function(){V(),D("")},placeholderState:T,singleSelection:r,selections:K,size:f,searchValue:R},h),Q=x({items:t,loadNextPage:function(){return M({qHeight:a+I})},pageHeight:I||a,numberOfItems:X,dropHeight:G,handleSelectCallback:function(e){q(""),D(""),W([e.key],!r),u()},size:f},h);return s.jsxs($,x({ref:p,size:f},h,{children:[s.jsx(he,x({},J)),t&&k&&s.jsx(Z,x({ref:g},Q))]}))}function xe(e){var n=x({},e);return s.jsx(pe,x({},n))}xe.propTypes={listData:p.default.array,colorTheme:p.default.oneOf(["brand","gray","red","orange","yellow","green","teal","pink","blue","cyan","purple"]),singleSelection:p.default.bool,pageHeight:p.default.number,selectionLabelLimit:p.default.number,size:p.default.oneOf(["small","medium","large"]),placeholder:p.default.string,onSelectionChange:p.default.func},xe.defaultProps={colorTheme:"brand",singleSelection:!1,pageHeight:50,selectionLabelLimit:5,size:"medium",placeholder:"Select..",onSelectionChange:function(){}},e.Filter=xe});
//# sourceMappingURL=index.ts.map
